<!--import neon-js-->
<script src="https://unpkg.com/@cityofzion/neon-js@next"></script>

<script>
  const nodeURL = "http://localhost:50012"

  <!-- default hash: 0xb1ed87a9ce71dcc465a2ed41348c6cc8494ab9b5 -->
  const contractHash = "0xa76e371fcb2fb8a22dee4ebb313b8017b8976983"

  async function helloNeoBlockchain() {
    <!--Interface Function-->
	
    //define our invocation
    const intent = {
      scriptHash: contractHash,
      operation: "hello",
	  params: [],
    }

    //define how we will connect to the network
    const facade = await Neon.api.NetworkFacade.fromConfig({
      node: nodeURL,
    })

    //invoke our smart contract and decode the result
    const res = await facade.invoke(intent)
    const value = Neon.u.HexString.fromBase64(res.stack[0].value).toAscii()

    //get the current block-height
    const height = await facade.getRpcNode().getBlockCount()

    //present the result on the interface
    document.getElementById("storage").innerHTML = value
    document.getElementById("block").innerHTML = height
  }
</script>
  
<button onclick="helloNeoBlockchain();">
    Hello
</button>

<div id="storage"></div>

<div id="block"></div>